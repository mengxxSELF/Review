<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>drag 构造函数版</title>
    <style>
        *{padding:0;margin: 0;}
        div{width: 100px;  border-radius: 100%;
            height: 100px; position: fixed;left: 0;top: 0; background: skyblue;}
    </style>
</head>
<body>
<div></div>
<script src="../event.js"></script>
<!--<script src="Drag.js"></script>-->
<!--<script src="Drag-add1.js"></script>-->
<script src="Drag-add2.js"></script>
<script>
    var oDiv =document.getElementsByTagName('div')[0];
    var drag = new Drag({
        ele:oDiv
    });
    drag.on('mousemove', function () {
        this.ele.style.background='#ccc'
    })
    drag.on('mouseup', function () {
        this.ele.style.background='red'
    })

    // 用户身份添加边界限制
    drag.on('mousemove', function (e) {
        border.call(this,{
            maxl:200, maxT:0,minL:20,maxB :200
        },e);
    });
    function border(opt,e) {
        var maxl= opt.maxl, maxT= opt.maxT,minL=opt.minL,maxB = opt.maxB;
        var boxL =  e.clientX-this.x+this.l;
        var boxT = e.clientY-this.y+this.t;

        if(boxL>=maxl){
            boxL=maxl;
        }else if(boxL<=minL){
            boxL=minL;
        }
        if(boxT>=maxB){
            boxT=maxB;
        }else if(boxT<=maxT){
            boxT=maxT;
        }
        oDiv.style.left =boxL+'px';
        oDiv.style.top = boxT+'px';
    }
</script>
</body>
</html>